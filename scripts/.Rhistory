longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = accuracy, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+scale_x_time()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("1 hour"), minor_breaks=date_breaks("30 min"), labels=date_format("%H:%M:%S"))
library(scales)
library(scales)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("1 hour"), minor_breaks=date_breaks("30 min"), labels=date_format("%H:%M:%S"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("2 hour"), minor_breaks=date_breaks("1 hour"), labels=date_format("%H:%M:%S"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"), minor_breaks=date_breaks("2 hour"), labels=date_format("%H:%M:%S"))
?date_format()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, fill = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"), minor_breaks=date_breaks("2 hour"), labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = missing))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"), minor_breaks=date_breaks("2 hour"), labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"), minor_breaks=date_breaks("2 hour"), labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_fill_manual(values=c("#CC6666", "#9999CC", "#66CC99"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% min(time2)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% min()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% select(time2 %>% min()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% select(time2) %>% min()
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% select(time2)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>% top_n(1)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
select(time2)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
select(time2) %>% top_n(1)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
select(time2) %>% min(time2)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
select(time2) %>% min(~time2)
time1_p1 <- strptime(paste("2017-02-15", "00:00:00"), "%Y-%m-%d %H:%M:%S")
time2_p1 <- strptime(paste("2017-02-15", "24:00:00"), "%Y-%m-%d %H:%M:%S")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="GMT")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits=xlim_p1)+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="Asia/Singapore")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits=xlim_p1)+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
xlim_p1
time1_p1 <- strptime(paste("2017-02-14", "00:00:00"), "%Y-%m-%d %H:%M:%S")
time2_p1 <- strptime(paste("2017-02-16", "24:00:00"), "%Y-%m-%d %H:%M:%S")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="Asia/Singapore")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits=xlim_p1)+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
time1_p1 <- strptime(paste("2017-02-14", "00:00:00"), "%Y-%m-%d %H:%M:%S")
time2_p1 <- strptime(paste("2017-02-16", "24:00:00"), "%Y-%m-%d %H:%M:%S")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="Asia/Singapore")
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits = xlim_p1)
time1_p1 <- strptime(paste("2017-02-15", "00:00:00"), "%Y-%m-%d %H:%M:%S")
time2_p1 <- strptime(paste("2017-02-16", "24:00:00"), "%Y-%m-%d %H:%M:%S")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="Asia/Singapore")
xlim_p1
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits = xlim_p1)
time2_p1 <- strptime(paste("2017-02-15", "24:00:00"), "%Y-%m-%d %H:%M:%S")
xlim_p1 <- as.POSIXct(c(time1_p1, time2_p1), origin="1970-01-01", tz="Asia/Singapore")
all %>%
select(time,lon,lat,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 ~ 2017-02-15)%>%
mutate( distanceHome = sp::spDistsN1(pts=matrix(c(lon,lat),ncol = 2),
pt = home,
longlat = T),
euclon = lon-home[1],
euclat = lat-home[2],
time2 = lubridate::force_tz(time, "Asia/Singapore")) %>%
ggplot( aes(x = time2, y=accuracy))+
geom_point()+theme_tufte()+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"),
limits = xlim_p1)
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Missingness in daily measurements over time")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Measurements per 5 minute window")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
exampleMiss<- m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Measurements per 5 minute window")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","red"))+
theme(legend.position="none")
ggsave(exampleMiss,filename = "../img/missingBoaz5minExample.png",device = "png",height = 6.5, units = "cm")
#similar to the plot with distance from home and accuracy from palmius
library(leaflet)
all %>%
select(time,lat,lon,accuracy) %>%
filter(accuracy <400) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00) %>%
leaflet(options = leafletOptions(zoomControl = FALSE)) %>%
addTiles() %>%
addPolylines(data = lns,color = "#DF2935") %>%
addCircles(lng = ~lon, lat = ~lat,
radius = ~accuracy, fillOpacity = 0.02,color = "#DF2935")%>%
addProviderTiles(providers$CartoDB.Positron)
lns<- all %>%
select(time,lat,lon,accuracy) %>%
filter(accuracy <400) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00)%>%
select(lon, lat) %>%
sp::Line()
all %>%
select(time,lat,lon,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00) %>%
leaflet(options = leafletOptions(zoomControl = FALSE)) %>%
addTiles() %>%
addPolylines(data = lns,color = "#DF2935") %>%
addCircles(lng = ~lon, lat = ~lat,
radius = ~accuracy, fillOpacity = 0.02,color = "#DF2935")%>%
addProviderTiles(providers$CartoDB.Positron)
lnsRaw<- all %>%
select(time,lat,lon,accuracy) %>%
filter(accuracy <400) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00)%>%
select(lon, lat) %>%
sp::Line()
lnsFiltered<- all %>%
select(time,lat,lon,accuracy) %>%
filter(accuracy <400) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00)%>%
select(lon, lat) %>%
sp::Line()
all %>%
select(time,lat,lon,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00) %>%
leaflet(options = leafletOptions(zoomControl = FALSE)) %>%
addTiles() %>%
addPolylines(data = lnsRaw,color = "#DF2935") %>%
addPolylines(data = lnsFiltered,color = "#18206F") %>%
addCircles(lng = ~lon, lat = ~lat,
radius = ~accuracy, fillOpacity = 0.02,color = "#DF2935")%>%
addProviderTiles(providers$CartoDB.Positron)
lnsRaw<- all %>%
select(time,lat,lon,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00)%>%
select(lon, lat) %>%
sp::Line()
lnsFiltered<- all %>%
select(time,lat,lon,accuracy) %>%
filter(accuracy <400) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00)%>%
select(lon, lat) %>%
sp::Line()
all %>%
select(time,lat,lon,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00) %>%
leaflet(options = leafletOptions(zoomControl = FALSE)) %>%
addTiles() %>%
addPolylines(data = lnsRaw,color = "#DF2935") %>%
addPolylines(data = lnsFiltered,color = "#18206F") %>%
addCircles(lng = ~lon, lat = ~lat,
radius = ~accuracy, fillOpacity = 0.02,color = "#DF2935")%>%
addProviderTiles(providers$CartoDB.Positron)
exampleMiss<- m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Measurements per 5 minute window")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("#18206F","#DF2935"))+
theme(legend.position="none")
exampleMiss
exampleMiss<- m5minv2 %>%
as_tbl_time(index = time2)%>%
time_filter(2017-02-15 ~ 2017-02-15) %>%
ggplot( aes(x = hour, y=measurements, colour = factor(missing)))+
geom_point()+theme_tufte()+
xlab("")+
ylab("Measurements")+
ggtitle("Measurements per 5 minute window")+
scale_x_datetime(breaks = date_breaks("4 hour"),
minor_breaks=date_breaks("2 hour"),
labels=date_format("%H:%M:%S", tz = "Asia/Singapore"))+
scale_colour_manual(values=c("black","#DF2935"))+
theme(legend.position="none")
ggsave(exampleMiss,filename = "../img/missingBoaz5minExample.png",device = "png",height = 6.5, units = "cm")
all %>%
select(time,lat,lon,accuracy) %>%
as_tbl_time(index = time) %>%
time_filter(2017-02-15 + 00:00:00 ~ 2017-02-15+ 12:00:00) %>%
leaflet(options = leafletOptions(zoomControl = FALSE)) %>%
addTiles() %>%
addPolylines(data = lnsRaw,color = "#DF2935") %>%
addPolylines(data = lnsFiltered,color = "#18206F") %>%
addCircles(lng = ~lon, lat = ~lat,
radius = ~accuracy, fillOpacity = 0.02,color = "#DF2935")%>%
addProviderTiles(providers$CartoDB.Positron)
